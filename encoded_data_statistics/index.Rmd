---
title: "Untitled"
output: 
  flexdashboard::flex_dashboard:
    orientation: columns
    vertical_layout: fill
---

```{r setup, include=FALSE}
library(flexdashboard)
```


```{r}
#install.packages("RPostgreSQL")
#install.packages("RPostgres")
```

```{r}

library(DBI)

# Obtaining the values of the environment variables

db <- Sys.getenv("db_mcc")  #database name
db_host <- Sys.getenv("db_host") #localhost
db_port <- Sys.getenv("db_port") #port
db_user <- Sys.getenv("db_user") #credentials: user name
db_pass <- Sys.getenv("db_pass") #credentials: user password


#Connecting to the Postgres database

conn <- dbConnect(
  RPostgres::Postgres(),
  dbname = db,
  host = db_host,
  port = db_port,
  user = db_user,
  password = db_pass
)

```

```{r}
# list the available tables
dbListTables(conn)
```

```{r}

dbGetQuery(conn, "SELECT * FROM earthquakes LIMIT 5")

```



